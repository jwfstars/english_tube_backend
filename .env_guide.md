# 本地 .env 配置说明

## ✅ 已配置项

### 基础配置
- **BACKEND_PORT**: `8002` - 后端端口（避免与其他服务冲突）
- **DB_PASSWORD**: `dev_local_password_2024` - 本地数据库密码
- **SECRET_KEY**: 已生成的 64 位随机密钥

### CORS 配置（本地开发）
```
http://localhost:8858   - Admin 管理后台
http://127.0.0.1:8858   - Admin（备用）
http://localhost:3000   - 用户端前端（如果有）
```

### 腾讯云 VOD
- **VOD_APP_ID**: 1253432963
- **VOD_PLAY_KEY**: DkVXWLJWL4dxW9UjdTED

## ⚙️ 可选配置

### 腾讯云短信（已注释，本地开发不需要）
如果需要测试短信功能，取消注释并填入你的密钥：
```bash
TENCENT_SMS_SECRET_ID=你的密钥ID
TENCENT_SMS_SECRET_KEY=你的密钥
TENCENT_SMS_SDK_APP_ID=应用ID
TENCENT_SMS_SIGN_NAME=签名
TENCENT_SMS_TEMPLATE_ID=模板ID
```

## 🚀 启动服务

```bash
cd backend

# 启动所有服务
docker-compose up -d

# 查看日志
docker-compose logs -f backend

# 测试连接
curl http://localhost:8002/health
```

## 🔍 常用命令

```bash
# 查看服务状态
docker-compose ps

# 重启后端
docker-compose restart backend

# 查看数据库
docker-compose exec postgres psql -U english_tube -d english_tube

# 停止所有服务
docker-compose down
```

## 📝 参数说明

| 参数 | 值 | 说明 |
|------|------|------|
| DB_PASSWORD | dev_local_password_2024 | 本地数据库密码（可自定义） |
| BACKEND_PORT | 8002 | 后端 API 端口 |
| SECRET_KEY | 自动生成 | JWT 签名密钥（每个环境不同） |
| ACCESS_TOKEN_EXPIRE_MINUTES | 10080 | Token 有效期 7 天 |

## ⚠️ 安全提示

1. **本地开发** 用简单密码没问题
2. **生产环境** 必须用强密码和不同的 SECRET_KEY
3. `.env` 文件已在 `.gitignore` 中，不会被提交
